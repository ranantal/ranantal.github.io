"use strict";(self.webpackChunksign_in_angular=self.webpackChunksign_in_angular||[]).push([[572],{9572:(N,m,n)=>{n.r(m),n.d(m,{SignUpModule:()=>i});var d=n(6895),r=n(433),f=n(9828),v=n(3918),x=n(1258),g=n(2441),c=n(1969),u=n(1135),C=n(7579),M=n(4482),y=n(5403),P=n(8421),w=n(5032);function h(s){return(0,M.e)((t,e)=>{(0,P.Xf)(s).subscribe((0,y.x)(e,()=>e.complete(),w.Z)),!e.closed&&t.subscribe(e)})}var S=n(8505),o=n(8256),U=n(7632),b=n(5410),O=n(8767),Z=n(1433);function J(s,t){1&s&&(o.TgZ(0,"app-input-error"),o._uU(1," Passwords do not match "),o.qZA())}function $(s,t){if(1&s){const e=o.EpF();o.TgZ(0,"app-simple-dialog",10),o.NdJ("close",function(){o.CHM(e);const I=o.oxw();return o.KtG(I.onModalClose())}),o._uU(1," Congrats! You are succesfully created an account!\n"),o.qZA()}}const A=function(){return["/sign-in"]};class l{constructor(t,e){this.fb=t,this.authServcie=e,this.loading$=new u.X(!1),this.showModal$=new u.X(!1),this.destroy$=new C.x}ngOnInit(){this.form=this.fb.group({email:["",[r.kI.required,r.kI.email]],password:["",r.kI.required],repeatPassword:["",r.kI.required]}),this.form.get("repeatPassword")?.valueChanges.pipe(h(this.destroy$)).subscribe(()=>this.checkPasswords()),this.form.get("password")?.valueChanges.pipe(h(this.destroy$)).subscribe(()=>this.checkPasswords())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSubmit(){this.form.valid?(this.loading$.next(!0),this.authServcie.signUp(this.form.value.email,this.form.value.password).pipe((0,S.b)(({status:t})=>{this.loading$.next(!1),200===t&&this.showModal$.next(!0)})).subscribe()):this.form.markAllAsTouched()}onModalClose(){this.showModal$.next(!1)}checkPasswords(){this.form.get("repeatPassword")?.value!==this.form.get("password")?.value?this.form.get("repeatPassword")?.setErrors({passwordsDoNotMatch:!0}):this.form.get("repeatPassword")?.setErrors(null)}}l.\u0275fac=function(t){return new(t||l)(o.Y36(r.qu),o.Y36(g.e))},l.\u0275cmp=o.Xpm({type:l,selectors:[["app-sign-up"]],decls:15,vars:17,consts:[[1,"card"],["src","assets/angular.svg",1,"logo"],[1,"form",3,"formGroup","ngSubmit"],["type","email","formControlName","email",1,"control",3,"placeholder"],["type","password","formControlName","password",1,"control",3,"placeholder"],["type","password","formControlName","repeatPassword",1,"control",3,"placeholder"],[4,"ngIf"],[1,"link",3,"routerLink"],[1,"submit-btn",3,"type","disabled","loading"],[3,"close",4,"ngIf"],[3,"close"]],template:function(t,e){if(1&t&&(o.TgZ(0,"div",0),o._UZ(1,"img",1),o.TgZ(2,"form",2),o.NdJ("ngSubmit",function(){return e.onSubmit()}),o._UZ(3,"app-input",3)(4,"app-input",4),o.TgZ(5,"app-input",5),o.YNc(6,J,2,0,"app-input-error",6),o.qZA(),o.TgZ(7,"a",7),o._uU(8,"Already have an account?"),o.qZA(),o.TgZ(9,"app-button",8),o.ALo(10,"async"),o.ALo(11,"async"),o._uU(12,"Sign Up"),o.qZA()()(),o.YNc(13,$,2,0,"app-simple-dialog",9),o.ALo(14,"async")),2&t){let p;o.xp6(2),o.Q6J("formGroup",e.form),o.xp6(1),o.Q6J("placeholder","Email"),o.xp6(1),o.Q6J("placeholder","Password"),o.xp6(1),o.Q6J("placeholder","Repeat password"),o.xp6(1),o.Q6J("ngIf",null==(p=e.form.get("repeatPassword"))||null==p.errors?null:p.errors.passwordsDoNotMatch),o.xp6(1),o.Q6J("routerLink",o.DdM(16,A)),o.xp6(2),o.Q6J("type","submit")("disabled",e.form.invalid&&!o.lcZ(10,10,e.loading$))("loading",o.lcZ(11,12,e.loading$)),o.xp6(4),o.Q6J("ngIf",o.lcZ(14,14,e.showModal$))}},dependencies:[c.rH,d.O5,U.r,b.a,O.w,r._Y,r.JJ,r.JL,r.sg,r.u,Z.r,d.Ov],styles:["body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,sans-serif}.link[_ngcontent-%COMP%]{color:#4cb972;cursor:pointer;text-decoration:none}[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100vh;background-color:#4cb9724d}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;box-sizing:border-box;width:330px;height:384px;padding:40px 40px 0;background-color:#fff;border-radius:20px}@media screen and (max-width: 720px){.card[_ngcontent-%COMP%]{height:100vh;width:100%}}.logo[_ngcontent-%COMP%]{height:48px}@media screen and (max-width: 720px) and (min-height: 800px){.logo[_ngcontent-%COMP%]{margin-top:25vh}}.form[_ngcontent-%COMP%]{flex-grow:1;display:flex;align-items:center;flex-direction:column;width:250px;margin:40px auto}@media screen and (max-width: 720px){.form[_ngcontent-%COMP%]{width:100%}}.form[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.form[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:16px}.form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{margin-top:auto}"],changeDetection:0});const T=[{path:"",pathMatch:"full",component:l}];class a{}a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({imports:[c.Bz.forChild(T),c.Bz]});class i{}i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({providers:[g.e],imports:[a,d.ez,f.h,v.g,r.UX,x.a]})}}]);