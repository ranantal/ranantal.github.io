"use strict";(self.webpackChunksign_in_angular=self.webpackChunksign_in_angular||[]).push([[368],{9368:(Z,m,o)=>{o.r(m),o.d(m,{SignInModule:()=>s});var g=o(6895),i=o(433),f=o(1258),h=o(9828),x=o(3918),c=o(2441),d=o(1969),u=o(1135),C=o(8505),n=o(8256),v=o(7632),M=o(5410),S=o(8767),I=o(1433);function y(r,t){1&r&&(n.TgZ(0,"app-input-error"),n._uU(1," Wrong password "),n.qZA())}function b(r,t){if(1&r){const e=n.EpF();n.TgZ(0,"app-simple-dialog",9),n.NdJ("close",function(){n.CHM(e);const P=n.oxw();return n.KtG(P.onModalClose())}),n._uU(1," Congrats! You are succesfully logged in!\n"),n.qZA()}}const w=function(){return["/sign-up"]};class l{constructor(t,e){this.fb=t,this.authServcie=e,this.loading$=new u.X(!1),this.showModal$=new u.X(!1)}ngOnInit(){this.form=this.fb.group({email:["",[i.kI.required,i.kI.email]],password:["",i.kI.required]})}onSubmit(){this.form.valid?(this.loading$.next(!0),this.authServcie.signIn(this.form.value.email,this.form.value.password).pipe((0,C.b)(({status:t})=>{this.loading$.next(!1),200===t?this.showModal$.next(!0):401===t&&this.form.get("password")?.setErrors({wrongPassword:!0})})).subscribe()):this.form.markAllAsTouched()}onModalClose(){this.showModal$.next(!1)}}l.\u0275fac=function(t){return new(t||l)(n.Y36(i.qu),n.Y36(c.e))},l.\u0275cmp=n.Xpm({type:l,selectors:[["app-sign-in"]],decls:14,vars:16,consts:[[1,"card"],["src","assets/angular.svg",1,"logo"],[1,"form",3,"formGroup","ngSubmit"],["type","email","formControlName","email",1,"control",3,"placeholder"],["type","password","formControlName","password",1,"control",3,"placeholder"],[4,"ngIf"],[1,"link",3,"routerLink"],[1,"submit-btn",3,"type","disabled","loading"],[3,"close",4,"ngIf"],[3,"close"]],template:function(t,e){if(1&t&&(n.TgZ(0,"div",0),n._UZ(1,"img",1),n.TgZ(2,"form",2),n.NdJ("ngSubmit",function(){return e.onSubmit()}),n._UZ(3,"app-input",3),n.TgZ(4,"app-input",4),n.YNc(5,y,2,0,"app-input-error",5),n.qZA(),n.TgZ(6,"a",6),n._uU(7,"Create an account"),n.qZA(),n.TgZ(8,"app-button",7),n.ALo(9,"async"),n.ALo(10,"async"),n._uU(11,"Sign In"),n.qZA()()(),n.YNc(12,b,2,0,"app-simple-dialog",8),n.ALo(13,"async")),2&t){let p;n.xp6(2),n.Q6J("formGroup",e.form),n.xp6(1),n.Q6J("placeholder","Email"),n.xp6(1),n.Q6J("placeholder","Password"),n.xp6(1),n.Q6J("ngIf",null==(p=e.form.get("password"))||null==p.errors?null:p.errors.wrongPassword),n.xp6(1),n.Q6J("routerLink",n.DdM(15,w)),n.xp6(2),n.Q6J("type","submit")("disabled",e.form.invalid&&!n.lcZ(9,9,e.loading$))("loading",n.lcZ(10,11,e.loading$)),n.xp6(4),n.Q6J("ngIf",n.lcZ(13,13,e.showModal$))}},dependencies:[g.O5,d.rH,v.r,M.a,S.w,i._Y,i.JJ,i.JL,i.sg,i.u,I.r,g.Ov],styles:["body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,sans-serif}.link[_ngcontent-%COMP%]{color:#4cb972;cursor:pointer;text-decoration:none}[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100vh;background-color:#4cb9724d}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;box-sizing:border-box;width:330px;height:384px;padding:40px 40px 0;background-color:#fff;border-radius:20px}@media screen and (max-width: 720px){.card[_ngcontent-%COMP%]{height:100vh;width:100%}}.logo[_ngcontent-%COMP%]{height:48px}@media screen and (max-width: 720px) and (min-height: 800px){.logo[_ngcontent-%COMP%]{margin-top:25vh}}.form[_ngcontent-%COMP%]{flex-grow:1;display:flex;align-items:center;flex-direction:column;width:250px;margin:40px auto}@media screen and (max-width: 720px){.form[_ngcontent-%COMP%]{width:100%}}.form[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.form[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:16px}.form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{margin-top:auto}"],changeDetection:0});const O=[{path:"",pathMatch:"full",component:l}];class a{}a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=n.oAB({type:a}),a.\u0275inj=n.cJS({imports:[d.Bz.forChild(O),d.Bz]});class s{}s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=n.oAB({type:s}),s.\u0275inj=n.cJS({providers:[c.e],imports:[g.ez,a,h.h,x.g,i.UX,f.a]})}}]);